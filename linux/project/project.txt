https://github.com/tsizism
git config --global user.email tsizism@gmail.com
git config --global user.name mark
git init -b main
git branch -a  
git add .
git config --list --global
git config --global --add safe.directory '*'
git config --global --edit

echo -n 'Z2hwX3IybWJQVEFTN3BTY0d2NjdxeWtjdTRoOFZWUXNJSDN1MVNuRQ==' | base64 -d

sudo dpkg -i 
sudo apt update



Insatll VSCode and Go extension
brew install go
brew install make
Install docker desktop and vscode extension 

jinliming2 - Go Template Support extension 

go mod init github.com/tsizism/semplicita/linux/broker

https://github.com/go-chi/chi
go get -u github.com/go-chi/chi/v5
go get -u github.com/go-chi/chi/v5/middleware
go get -u github.com/go-chi/cors


https://pkg.go.dev/cmd/go/internal/get
The -u flag instructs get to use the network to update the named packages
and their dependencies. By default, get uses the network to check out
missing packages but does not use it to look for updates to existing packages.

// Postgres Go client
go get github.com/jackc/pgconn
go get github.com/jackc/pgx/v4
go get github.com/jackc/pgx/v4/stdlib

go get github.com/jackc/pgx/v4@none
go get github.com/jackc/pgx/v4/stdlib@none

go get github.com/jackc/pgconn
go get github.com/jackc/pgx/v5
go get github.com/jackc/pgx/v5/stdlib

go get go.mongodb.org/mongo-driver/mongo
go get go.mongodb.org/mongo-driver/mongo/options

go get github.com/rs/cors

go get github.com/vanng822/go-premailer/premailer
go get github.com/xhit/go-simple-mail/v2

go get github.com/rabbitmq/amqp091-go

https://www.beekeeperstudio.io/  - 4 pay

pgAdmin4   https://www.pgadmin.org/
Postrgess: /Users/Shared/semplicita/linux/project/docker-compose.yaml, pgAdmin --> Server : authserver --> Database: users --> Query Tool --> select * from users
https://www.mongodb.com/try/download/compass
Mongo:     MongoDB Compass --> Connect using 'trace' connection "mongodb://admin:password@localhost:27017/" --> Database:  trace --> Collection trace
MailHog:   http://localhost:8025/

gRPC
____
https://grpc.io/docs/languages/go/quickstart/
go install google.golang.org/protobuf/cmd/protoc-gen-go@latest
go install google.golang.org/grpc/cmd/protoc-gen-go-grpc@latest

go get google.golang.org/grpc
go get google.golang.org/protobuf

https://grpc.io/docs/protoc-installation/
https://github.com/protocolbuffers/protobuf/releases/download/v29.1/protoc-29.1-win64.zip

Mac:
volumes visiable on Mac - /Users/Shared/semplicita/linux/project/db-data

--------------------------
docker registry

d login -u tsizism   // D-!

# d build 
# from /home/mark/github/semplicita/linux/project
d build --no-cache -f ../authentication-service/dockerfile -t tsizism/authentication-service:1.0 ../authentication-service
d build --no-cache -f ../broker-service/dockerfile -t tsizism/broker-service:1.0 ../broker-service
d build --no-cache -f ../listener-service/dockerfile -t tsizism/listener-service:1.0 ../listener-service
d build --no-cache -f ../mail-service/dockerfile -t tsizism/mail-service:1.0 ../mail-service
d build --no-cache -f ../trace-service/dockerfile -t tsizism/trace-service:1.0 ../trace-service
d build --no-cache -f ../fe/dockerfile -t tsizism/fe:1.0 ../fe

So whenever you do docker build -t 'es:6.1' . you also need to run docker tag es:6.1 <username>/es:6.1

d tag tsizism/fe:1.0 tsizism/fe:1.0

# there is no command line option to remove image from the hub

d push tsizism/authentication-service:1.0
d push tsizism/broker-service:1.0
d push tsizism/listener-service:1.0
d push tsizism/mail-service:1.0
d push tsizism/trace-service:1.0
d push tsizism/fe:1.0

d pull tsizism/authentication-service:1.0
d pull tsizism/broker-service:1.0
d pull tsizism/listener-service:1.0
d pull tsizism/mail-service:1.0
d pull tsizism/trace-service:1.0
d pull tsizism/fe:1.0



Swarm
d service ls
>Error response from daemon: This node is not a swarm manager. 
>Use "docker swarm init" or "docker swarm join" to connect this node to swarm and try again.

d swarm init
    docker swarm join --token SWMTKN-1-2bg99crkwkthd1eno57fu90os3wwiwi4x17esdxrx3xlw1dn8l-1ex1uur6r2nya8552fds2ngjj 192.168.65.9:2377
    To add a manager to this swarm, run 'docker swarm join-token manager' and follow the instructions.    

d swarm join-token manager -- get join command with tocken for manager
d swarm join-token worker  -- get join command with tocken for worker

d stack deploy -c swarm.yaml semplicita_swarm

docker service scale semplicita_swarm_listener-service=3

d service update --image tsizism/fe:1.0 semplicita_swarm_fe

docker service scale semplicita_swarm_listener-service=0  -- brings service down

docker service rm semplicita_swarm_fe

docker swarm leave -f -- for manager 
docker node rm -- Remove one or more nodes from the swarm. This is a cluster management command, and must be executed on a swarm manager node. 


https://caddyserver.com/